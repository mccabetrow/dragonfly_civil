# ═══════════════════════════════════════════════════════════════════════════
# Dragonfly Civil Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════
#
# CANONICAL ENV VARS (UPPER_SNAKE_CASE)
# See docs/env.md for full documentation.
#
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# REQUIRED: Core Supabase Configuration
# ───────────────────────────────────────────────────────────────────────────
# Supabase REST API URL (required)
SUPABASE_URL=https://your-project.supabase.co

# Supabase service role key (required, 100+ chars)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# PostgreSQL connection string via pooler (required for DB operations)
SUPABASE_DB_URL=postgresql://postgres.project:[password]@aws-0-region.pooler.supabase.com:5432/postgres

# ───────────────────────────────────────────────────────────────────────────
# REQUIRED: Environment Control
# ───────────────────────────────────────────────────────────────────────────
# Deployment environment: dev | staging | prod
ENVIRONMENT=dev

# Supabase mode for DSN resolution: dev | prod
SUPABASE_MODE=dev

# Logging level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# ───────────────────────────────────────────────────────────────────────────
# REQUIRED FOR PRODUCTION: API Authentication
# ───────────────────────────────────────────────────────────────────────────
# API key for X-API-Key header authentication
DRAGONFLY_API_KEY=your-secure-api-key-here

# ───────────────────────────────────────────────────────────────────────────
# RECOMMENDED FOR PRODUCTION: CORS Configuration
# ───────────────────────────────────────────────────────────────────────────
# Comma-separated CORS origins (frontend URLs)
DRAGONFLY_CORS_ORIGINS=https://your-frontend.vercel.app,http://localhost:3000

# ───────────────────────────────────────────────────────────────────────────
# OPTIONAL: Email Notifications (SendGrid)
# ───────────────────────────────────────────────────────────────────────────
SENDGRID_API_KEY=SG.xxxxxx
SENDGRID_FROM_EMAIL=noreply@dragonfly.com

# ───────────────────────────────────────────────────────────────────────────
# OPTIONAL: SMS Notifications (Twilio)
# ───────────────────────────────────────────────────────────────────────────
TWILIO_ACCOUNT_SID=ACxxxxxx
TWILIO_AUTH_TOKEN=xxxxxx
TWILIO_FROM_NUMBER=+15551234567

# ───────────────────────────────────────────────────────────────────────────
# OPTIONAL: AI Features (OpenAI)
# ───────────────────────────────────────────────────────────────────────────
OPENAI_API_KEY=sk-xxxxxx

# ───────────────────────────────────────────────────────────────────────────
# OPTIONAL: Alerts (Discord)
# ───────────────────────────────────────────────────────────────────────────
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# ───────────────────────────────────────────────────────────────────────────
# OPTIONAL: Notification Recipients
# ───────────────────────────────────────────────────────────────────────────
CEO_EMAIL=ceo@company.com
OPS_EMAIL=ops@company.com
OPS_PHONE=+15559876543

# ───────────────────────────────────────────────────────────────────────────
# OPTIONAL: Proof.com Integration
# ───────────────────────────────────────────────────────────────────────────
PROOF_API_KEY=xxxxxx
PROOF_API_URL=https://api.proof.com
PROOF_WEBHOOK_SECRET=xxxxxx

# ───────────────────────────────────────────────────────────────────────────
# OPTIONAL: n8n Workflow Integration
# ───────────────────────────────────────────────────────────────────────────
N8N_API_KEY=xxxxxx

# ───────────────────────────────────────────────────────────────────────────
# SERVER CONFIGURATION (Railway injects PORT)
# ───────────────────────────────────────────────────────────────────────────
HOST=0.0.0.0
PORT=8888

# ───────────────────────────────────────────────────────────────────────────
# DEPRECATED: Legacy _PROD suffixed variables
# These are supported for backward compatibility but should be migrated.
# Set SUPABASE_MODE=prod and use the canonical variables above instead.
# ───────────────────────────────────────────────────────────────────────────
# SUPABASE_URL_PROD=https://prod-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY_PROD=eyJhbGciOiJI...
# SUPABASE_DB_URL_PROD=postgresql://postgres.prod:[password]@pooler.supabase.com:5432/postgres
