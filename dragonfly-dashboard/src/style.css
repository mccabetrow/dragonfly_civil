/* Pull in Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Basic app-wide polish */
html,
body {
	height: 100%;
}

@layer base {
	/* Light mode (default) */
	body {
		@apply bg-slate-50 text-slate-900 antialiased font-sans;
		font-feature-settings: "cv02", "cv03", "cv04", "cv11", "tnum";
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	/* Dark mode - Premium Fintech Theme */
	.dark body,
	body.dark {
		@apply bg-dragonfly-navy-900 text-slate-100;
	}

	/* Apply dark class to html for system-wide dark mode */
	html.dark {
		color-scheme: dark;
	}

	html.dark body {
		@apply bg-dragonfly-navy-900 text-slate-100;
		background-image: radial-gradient(at 40% 20%, rgba(6, 182, 212, 0.03) 0px, transparent 50%), 
		                  radial-gradient(at 80% 0%, rgba(251, 191, 36, 0.02) 0px, transparent 50%);
		background-attachment: fixed;
	}

	/* Smoother focus outlines */
	*:focus-visible {
		@apply outline-none ring-2 ring-cyan-500/40 ring-offset-2;
	}

	html.dark *:focus-visible {
		@apply ring-offset-dragonfly-navy-900;
	}

	/* Optional: make the root fill the screen */
	#root {
		@apply min-h-screen;
	}

	/* Premium scrollbar styling for dark mode */
	html.dark ::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}

	html.dark ::-webkit-scrollbar-track {
		background: rgba(255, 255, 255, 0.02);
	}

	html.dark ::-webkit-scrollbar-thumb {
		background: rgba(255, 255, 255, 0.1);
		border-radius: 4px;
	}

	html.dark ::-webkit-scrollbar-thumb:hover {
		background: rgba(255, 255, 255, 0.15);
	}

	/* Selection styling */
	html.dark ::selection {
		background: rgba(6, 182, 212, 0.3);
		color: #fff;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   CUSTOM ANIMATIONS
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
	/* Drawer slide-in from right (smoother curve) */
	@keyframes drawer-slide-in {
		from {
			transform: translateX(100%);
			opacity: 0.8;
		}
		to {
			transform: translateX(0);
			opacity: 1;
		}
	}

	/* Drawer slide-out to right */
	@keyframes drawer-slide-out {
		from {
			transform: translateX(0);
			opacity: 1;
		}
		to {
			transform: translateX(100%);
			opacity: 0.8;
		}
	}

	/* Fade in */
	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	/* Fade out */
	@keyframes fade-out {
		from {
			opacity: 1;
		}
		to {
			opacity: 0;
		}
	}

	/* Scale in (for modals, toasts) */
	@keyframes scale-in {
		from {
			transform: scale(0.96);
			opacity: 0;
		}
		to {
			transform: scale(1);
			opacity: 1;
		}
	}

	/* Subtle pulse for attention */
	@keyframes subtle-pulse {
		0%, 100% {
			opacity: 1;
		}
		50% {
			opacity: 0.7;
		}
	}

	/* Shimmer for skeletons */
	@keyframes shimmer {
		0% {
			background-position: -200% 0;
		}
		100% {
			background-position: 200% 0;
		}
	}

	.animate-drawer-slide-in {
		animation: drawer-slide-in 0.28s cubic-bezier(0.32, 0.72, 0, 1) forwards;
	}

	.animate-drawer-slide-out {
		animation: drawer-slide-out 0.22s ease-out forwards;
	}

	.animate-fade-in {
		animation: fade-in 0.2s ease-out forwards;
	}

	.animate-fade-out {
		animation: fade-out 0.15s ease-out forwards;
	}

	.animate-scale-in {
		animation: scale-in 0.2s cubic-bezier(0.32, 0.72, 0, 1) forwards;
	}

	.animate-subtle-pulse {
		animation: subtle-pulse 2s ease-in-out infinite;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   TABLE ENHANCEMENTS
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
	/* Zebra striping for tables */
	.table-zebra tbody tr:nth-child(even) {
		@apply bg-slate-50/50;
	}

	/* Row hover with subtle lift effect */
	.table-row-interactive {
		@apply transition-all duration-150 hover:bg-slate-50 hover:shadow-sm;
	}
}
