[pytest]
addopts = -q --strict-markers -m "not legacy and not integration and not performance"
pythonpath = .
testpaths = tests
asyncio_mode = auto
markers =
	integration: marks tests as integration tests - requires live DB (deselect with '-m "not integration"')
	slow: marks tests that take >1 second (deselect with '-m "not slow"')
	e2e: marks end-to-end tests that test full workflow (deselect with '-m "not e2e"')
	unit: marks unit tests that don't require external dependencies
	legacy: marks legacy tests pending modernization (explicitly run with '-m legacy')
	performance: marks performance budget tests - require live DB with EXPLAIN ANALYZE (run with '-m performance')
	security: marks security invariant tests - require live DB for RLS/SECDEF audits (run with '-m security')
filterwarnings =
	ignore::DeprecationWarning
	ignore::PendingDeprecationWarning
